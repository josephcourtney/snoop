I am building a protocol and system to help with the design and implementation of agents that interact with eachother with a uniform interface regardless of if they are in the same file running concurrently, in the same thread, in the same process, in separate programs running on the same host, or on separate machines running across a network or the internet. A core component of the approach is a task queue that each agent runs to manage its own functions and to control the communication with other agents. It is intended to have built-in support for task priority, fair task scheduling with task aging, automatic adjustment of allocations of processing time and communication bandwidth, and automatic retries for failed tasks and communications with exponential back-off and jitter to avoid congestion. It also attempts to control resource usage by adjusting allocations and rate limits to avoid work queues exceeding capacity.

The current reference implementation of the task queue is given below. It should implement the fetures mentioned above. It should also be self-contained with well-defined limits and should not implement features that would be best left to other components of the overal agent system likethe communication protocol, specific task behavior, etc. except where it is necessary to implement the core functions of the task queue.
